<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link rel="stylesheet" href="counterstyle.css" />
  </head>
  <body>
    <div style="height: 1000px"></div>
    <section class="main1" id="main1">
      <div class="container1">
        <div class="count-heading">
          <div class="count" max-data="15">1</div>
          <span class="suffix">K</span>
          <h2>Project Complete</h2>
        </div>
        <div class="count-heading">
          <div class="count" max-data="23">1</div>
          <span class="suffix">+</span>
          <h2>Years Experience</h2>
        </div>
        <div class="count-heading">
          <div class="count" max-data="30">1</div>
          <h2>Expert Member</h2>
        </div>
        <div class="count-heading">
          <div class="count" max-data="97">1</div>
          <span class="suffix">%</span>
          <h2>Satisfactions Rate</h2>
        </div>
      </div>

      <script>
        var count = document.getElementsByClassName("count");
        var inc = [];
        function intervalFunc() {
          for (let i = 0; i < count.length; i++) {
            inc.push(1);
            if (inc[i] != count[i].getAttribute("max-data")) {
              inc[i]++;
            }
            count[i].innerHTML = inc[i];
          }
        }

        var main = document.getElementById("main1");
        window.onscroll = function () {
         var timer = setInterval(() => {
            var topElem = main.offsetTop;
            var btmElem = main.offsetTop + main.clientHeight;
            var topScreen = window.pageYOffset;
            var btmScreen = window.pageYOffset + window.innerHeight;
            if (btmScreen > topElem && topScreen < btmElem) {
              intervalFunc();
            } else {
                clearInterval(timer)
                for (let i = 0; i < count.length; i++) {
                    count[i].innerHTML=1;
                    inc=[]
                }
            }
          }, 100);
        };
      </script>
    </section>
  </body>
</html>
